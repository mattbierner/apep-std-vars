{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AACb,IAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAE5B,IAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,GAAG;QAAC,KAAK,yDAAG,EAAE;WACzC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CACpD,MAAM,CAAC,UAAC,CAAC,EAAE,CAAC,EAAK;AACd,SAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,wBAAwB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;AACpD,eAAO,CAAC,CAAC;KACZ,EAAE,EAAE,CAAC,CAAC;CAAA;;;;;;;AAAC,AAOhB,QAAQ,CAAC,KAAK,GAAG,UAAC,IAAI;WAClB,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC;CAAA;;;;;;;;;;;;;AAAC,AAa7B,QAAQ,CAAC,eAAe,GAAG,UAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS;WAC7C,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,EAAE,UAAA,GAAG;eACvC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAAA,CAAC;CAAA;;;;;;;;;;;;AAAC,AAYnD,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,UAAC,CAAC,EAAE,CAAC;WAAK,CAAC,GAAG,CAAC;CAAA,EAAE,EAAE,CAAC;;;;;;;AAAC,AAO5E,QAAQ,CAAC,aAAa,GAAG,UAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAK;AAChD,QAAM,YAAY,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;AACrE,WAAO,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CACrB,KAAK,CAAC,UAAA,CAAC;eACJ,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,SAAS,GAAG,YAAY,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KAAA,CAAC,CAAC;CACtE;;;;;;;AAAC,AAOF,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,UAAC,CAAC,EAAE,CAAC;WAAK,CAAC,GAAG,CAAC;CAAA,EAAE,EAAE,CAAC,CAAC","file":"index.js","sourcesContent":["\"use strict\";\nconst pep = require('apep');\n\nconst pep_vars = module.exports = (proto = {}) =>\n    Object.create(proto, Object.getOwnPropertyNames(pep_vars)\n        .reduce((p, c) => {\n            p[c] = Object.getOwnPropertyDescriptor(pep_vars, c);\n            return p;\n        }, {}));\n\n/**\n    Clear the value of a variable.\n    \n    @param name Variable name.\n*/\npep_vars.clear = (name) =>\n    pep.set(name, undefined);\n\n/**\n    Set the variable `name` to the result of `generator`.\n\n    Combines multiple yielded values. Yields the result value.\n\n    @param f Accumulator function to reduce multiple yields from `generator` to\n        a single value.\n    @param z Initial value for accumulator.\n    @param name Variable name.\n    @param generator Generator run to produce the value.\n*/\npep_vars.setFromCombined = (f, z, name, generator) =>\n    pep.chain(pep.combine(f, z, generator), val =>\n        pep.seq(pep.set(name, val), pep.lit(val)));\n\n/**\n    Set the variable `name` to the result of `generator`.\n\n    @param name Variable name.\n    @param generator Generator run to produce the value.\n\n    The function always stores value as strings. The output of multiple\n    yielding generators are joined together into a single string value which \n    is yielded once.\n*/\npep_vars.setFrom = pep_vars.setFromCombined.bind(null, (p, c) => p + c, '');\n\n/**\n    Get the currently stored value of a variable or compute it with a generator.\n\n    @see setFromCombined\n*/\npep_vars.storeCombined = (f, z, name, generator) => {\n    const computeValue = pep_vars.setFromCombined(f, z, name, generator);\n    return pep.get(name, null)\n        .chain(x =>\n            x === null || x === undefined ? computeValue : pep.lit(x));\n};\n\n/**\n    Get the currently stored value of a variable or compute it with a generator.\n\n    @see setFrom\n*/\npep_vars.store = pep_vars.storeCombined.bind(null, (p, c) => p + c, '');\n\n"],"sourceRoot":"/source/"}